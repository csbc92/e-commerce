package businesslogic;import Product.IDisplayable;import Product.PictureMedia;import javafx.scene.image.*;import networking.FTPTool;import persistence.DAMDBPersistence;import persistence.IDAMPersistence;import networking.ServerHandler;import java.io.IOException;import java.io.InputStream;import java.util.Set;/** * Created by Vedsted on 18-05-2017. */public class DAMManager implements IMediaFetcher {    private IDAMPersistence persistence;    private Thread serverhandler;    public DAMManager() {        String url = "jdbc:postgresql://localhost:5432/eComDAM";        String user = "postgres";        String password = "1234";        persistence = new DAMDBPersistence(url,user,password);        try {            serverhandler = new Thread(new ServerHandler(this,5678));            serverhandler.setDaemon(true);            serverhandler.start();        } catch (IOException e) {            e.printStackTrace();        }    }        @Override    public IDisplayable fetchMedia(String mediaID) {        IDisplayable media = null;        try {            FTPTool tool = new FTPTool("", "");            InputStream input = tool.retrieveFile();            Image image = new Image(input);            media = new PictureMedia(image);        } finally {            return media;        }//            return persistence.fetchMedia(mediaID);    }    @Override    public Set<IDisplayable> fetchMediaOverview() {        return persistence.fetchMediaOverview();    }}